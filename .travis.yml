matrix:
  include:
    - language: python
      sudo: false
      python: 3.6
      cache: pip
      install: pip install -r server/requirements.txt
      script: pushd server; make ci
      after_success:
        - if [[ "$TRAVIS_BRANCH" == "master" ]]; then
            make coverage
          fi

    - language: node_js
      node_js: "9"
      cache: yarn
      script: pushd web_app; make ci

notifications:
  email:
    on_success: never
